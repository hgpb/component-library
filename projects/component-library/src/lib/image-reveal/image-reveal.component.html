<section #reveal (window:resize)="onResize()">

  <div class="wrapper"
    [style.width.px]="irWidth"
    [style.height.px]="ir.height"
    (touchmove)="onTouchMove($event)"
    (mousemove)="onMouseMove($event)"
    (touchend)="onResizeFinish()"
    (mouseleave)="onResizeFinish()"
    (touchcancel)="onResizeFinish()"
    (mouseup)="onResizeFinish()">

    <div class="viewport" [style.width.px]="ir.viewports[0].style.width" [ngStyle]="ir.viewports[0].style" *ngIf="ir.viewports[0].hasParallax" compParallaxLayer></div>
    <div class="viewport" [style.width.px]="ir.viewports[0].style.width" [ngStyle]="ir.viewports[0].style" *ngIf="! ir.viewports[0].hasParallax"></div>

    <div class="handle"
      [style.width.px]="ir.handle.width"
      (touchstart)="onTouchStart($event)"
      (mousedown)="onMouseStart($event)"><span class="handle-btn"> ¦¦¦ </span></div>

    <div class="viewport" [style.width.px]="ir.viewports[1].style.width" [ngStyle]="ir.viewports[1].style" *ngIf="ir.viewports[1].hasParallax" compParallaxLayer></div>
    <div class="viewport" [style.width.px]="ir.viewports[1].style.width" [ngStyle]="ir.viewports[1].style" *ngIf="! ir.viewports[1].hasParallax"></div>

  </div>

</section>
